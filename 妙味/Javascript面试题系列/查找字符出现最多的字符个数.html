<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <script>
        var str = 'sadlikjsagjjgjgjgksjdlfj';
        function test () {
            var obj = {};
            var num = 0;
            var value = '';
            for (var i = 0; i < str.length; i++) {
                if (!obj[str[i]]) {
                    obj[str[i]] = [];
                }
                obj[str[i]].push(str[i]);
            }

            for (var attr in obj) {
                if (num < obj[attr].length) {
                    num = obj[attr].length;
                    value = obj[attr][0];
                }
            }

            return '最多的字符是:' + value + ', 出现了:' + num;
        }

        function test1 (str) {
            var arr = str.split('');
            arr.sort();
            str = arr.join('');

            var re = /(\w)\1+/g;

            var num = 0;
            var value = 0;

            str.replace(re, function($0, $1) {
                if (num < $0.length) {
                    num = $0.length;
                    value = $1;
                }
            });

            return '最多的字符是:' + value + ', 出现了:' + num;
        }

//        alert(test(str));
        alert(test1(str));
    </script>
</head>
<body>

</body>
</html>